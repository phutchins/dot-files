var encodedPageData=Okta.Util.encodePageData(window);oktaGlobalPort=chrome.extension.connect({name:encodedPageData});(function(){var a=new SharedContentScript(window,function(b,c){oktaGlobalPort.postMessage({type:b,data:c})});chrome.extension.onMessage.addListener(function(b){a.onBackgroundPageMessage(b)});oktaGlobalPort.onMessage.addListener(function(c){if(c.actionType==="siteFlowLoaded"){$okta("body").append('<span id="siteflow-loaded" style="display:none"></span>')}else{if(c.actionType==="runScript"){var b=function(d){chrome.extension.sendRequest({errorMessage:d,pageData:encodedPageData,statusURI:c.data.statusURI})};new Script(c.data.overlayMessage,c.data.actions,b,c.data.statusURI).execute(document,window)}else{a.onBackgroundPageMessage(c)}}})})();