if(!window.oktaPlugin){oktaPlugin={Widget:{}}}oktaPlugin.Widget.DropDown=function(d){var n=this;var l=false;var k;var i;var e;var b=$okta();var f;function h(){k.find("ul").hide();l=false}function a(){k.find("ul").show();l=true}function g(o,p,q){Log.debug("oktaPlugin.Widget.DropDown::create");i=o;e=q!=undefined?q:0;k=$okta(j(e,i,p),d);f=k.find(".x-selected-div");m()}function c(o){return(!n.options.doNotShowSelector||o.filter(n.options.doNotShowSelector).length==0)}function m(){Log.debug("oktaPlugin.Widget.DropDown::init");$okta(d).bind("click",function(p){var o=$okta(p.target);if((!o.parents(".okta-app-instance-picker-wrap").length)||!c(o)){h()}});if(i.length>1){k.find(".okta-app-instance-picker").click(function(p){var o=$okta(p.target);if(!l){if(c(o)){a()}}else{h()}})}b=k.find("li[current-option-selected=true]").hide();k.find("ul").children().click(function(o){var p=$okta(this);if(!p.attr("current-option-selected")){p.attr("current-option-selected",true);b.removeAttr("current-option-selected");b.show();p.hide();b=p;e=p.index();f.html(p.html());if(n.options.events.onSelected){n.options.events.onSelected(n,"onSelected",{evt:o,elm:p,val:i[e]})}}h()})}this.options={doNotShowSelector:"",events:{onSelected:null}};this.create=g;this.getRootElm=function(){return k};this.getSelectedValue=function(){return e==-1?null:i[e]};function j(r,t,q){var s=q(t[r]);var o=t.length>1?"":" no-drop-menu";var p=['<div class="okta-app-instance-picker-wrap'+o+'"><div class="okta-app-instance-picker okta-rounded-5"><div class="okta-app-details okta-selected x-selected-div">'+s+'</div><span class="okta-app-picker"><span class="okta-drop-down"></span></span></div><ul class="okta-app-details okta-drop-menu" style="display: none;">'];$okta.each(t,function(u,v){var w=u==r?' current-option-selected="true"':"";p.push('<li class="okta-clearfix"'+w+">"+q(v)+"</li>")});p.push("</ul></div>");return p.join("")}return this};oktaPlugin.Widget.DropDown.appInstanceDisplayFunc=function(a){return'<div class="okta-app-logo"><img src="'+a.logoUrl+'" alt="appDisplayName logo"/></div><div class="okta-app-name"><span class="okta-h2">'+a.username+'</span><span class="okta-h3">'+a.displayName+"</span></div>"};