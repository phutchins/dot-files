var Log=function(){var m=new Date();var f;if(!window.console){var n=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var k=0;k<n.length;++k){window.console[n[k]]=function(){}}}var r=false;try{r=window.Components&&window.Components.classes}catch(l){}if(r){var h=Components.classes["@mozilla.org/consoleservice;1"].getService(Components.interfaces.nsIConsoleService);function c(e){h.logStringMessage(e)}f={DEBUG:c,INFO:c,WARN:c,ERROR:c}}else{if(console){var b=function(e){if(console.log){console.log(e)}};f={context:console,DEBUG:function(e){console.debug?console.debug(e):b(e)},INFO:function(e){console.info?console.info(e):b(e)},WARN:function(e){console.warn?console.warn(e):b(e)},ERROR:function(e){console.error?console.error(e):b(e)}}}}var s;var g;var p=[];var a=m;function o(v){var u=new Date();var e=u-a;var i=e>150?e+"(ms): "+v.msg:v.msg;try{f[v.type](i)}catch(t){return}a=u}function d(u){if(Object.prototype.toString.call(u)==="[object Array]"){var e="[";for(var t=0;t<u.length;t++){e=e+d(u[t])+","}return e+"]"}else{return StringUtil.hashCode(u)}}function q(e){if(e.length==0){return null}var u=e[0];if(typeof u!="string"){throw"not a string: "+u}var w=[];for(var t=1;t<e.length;t++){var v=e[t];w.push((typeof v=="object")?JSON.stringify(v,function(x,y){if(typeof x=="string"){var i=x.toLowerCase();return(i.indexOf("password")!=-1||(i=="value"&&(this.key=="p"||this.type=="password")))?d(y):y}return y}):v)}return StringUtil.format(u,w)}function j(w,t){var y={type:w,msg:q(t)};if(s==undefined||s){o(y);if(g==undefined){p.push(y)}else{if(g&&g.passwords){p.push(y);var v=g.passwords;for(var u=0;u<v.length;u++){var e=v[u];if("password".indexOf(e)!=-1){continue}if(y.msg.indexOf(e)!=-1){var x="audit fail for: "+e;o({type:"ERROR",msg:x});throw x}}}}}}return{skipAudit:function(){o({type:"DEBUG",msg:q(arguments)})},debug:function(){j("DEBUG",arguments)},info:function(){j("INFO",arguments)},warn:function(){j("WARN",arguments)},error:function(){j("ERROR",arguments)},getAuditString:function(){var e=[];for(var t=0;t<p.length;t++){var u=p[t];e.push(u.type+":"+u.msg)}return e.join("\n")},init:function(e,i){s=e;g=i;if(g===false){p=[]}}}}();