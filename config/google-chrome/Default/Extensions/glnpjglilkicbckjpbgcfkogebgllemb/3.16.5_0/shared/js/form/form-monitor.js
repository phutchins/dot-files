(function(c,a,b){Okta.FormMonitor=function(e){b("initializing");var d=this;this.$el=a.isUndefined(e.jquery)?c(e):e;this.registeredForms=[];a.defer(function(){d.scan();setInterval(function(){var f=d.getFirstForm();if(f){if(f.exists()){return}else{d.trigger("okta-form-disappeared")}}d.scan()},2000)})};a.extend(Okta.FormMonitor.prototype,Okta.Events,{getFirstForm:function(){return this.registeredForms.length>0?this.registeredForms[0]:false},scan:function(){b("scanning for forms");var d=this;this._unregisterListeners();c("form",this.$el).each(function(e,g){var f=new Okta.Form(g);if(f.isLoginForm()||f.isChangePasswordForm()){d.registeredForms.push(f);d.listenTo(f,"okta-form-submit",function(){b("submit detected - triggering submit event");d.trigger("okta-register-submit",{formCapture:f.serialize()})})}});if(this.registeredForms.length>0){b("found forms: [{0}]",a(this.registeredForms).map(function(e){return e.isLoginForm()?"login":"change password"}).join(","));this.trigger("okta-form-found",{forms:this.registeredForms})}},_unregisterListeners:function(){var d;this.stopListening();while((d=this.registeredForms.shift())){d.unregister()}}})}($okta,_okta,function(){var a=Array.prototype.slice.apply(arguments);a[0]="Okta.FormMonitor: "+a[0];Log.debug.apply(null,a)}));