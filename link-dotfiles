#!/bin/bash
# Link all dotfiles for appropriate OS to home directory

platform='unknown'
unamestr=`uname`
if [[ "$unamestr" == 'Linux' ]]; then
   platform='linux'
elif [[ "$unamestr" == 'FreeBSD' ]]; then
   platform='freebsd'
fi

if [[ $platform == 'linux' ]]; then
  # Do Linux type things
  CWD=$(pwd)
  if [ -h "~/.tmux.conf" ] ; then rm ~/.tmux.conf ; else  mv ~/.tmux.conf ~/.tmux.conf.bak ; fi
  if [ -h "~/.tmux-linux" ] ; then rm ~/.tmux-linux ; else  mv ~/.tmux-linux ~/.tmux-linux.bak ; fi
  if [ -h "~/.vimrc" ] ; then rm ~/.vimrc ; else  mv ~/.vimrc ~/.vimrc.bak ; fi
  if [ -h "~/.bashrc" ] ; then rm ~/.bashrc ; else  mv ~/.bashrc ~/.bashrc.bak ; fi
  
  ln -s $CWD/.tmux.conf.phutchins ~/.tmux.conf
  ln -s $CWD/.tmux-linux ~/.tmux-linux
  ln -s $CWD/.vimrc.phutchins.linux ~/.vimrc
  ln -s $CWD/.bash_profile.phutchins ~/.bashrc
elif [[ $platform == 'Darwin' ]]; then
  # Do OSX type things
  CWD=$(pwd)
  if [ -h "~/.tmux.conf" ] ; then rm ~/.tmux.conf ; else  mv ~/.tmux.conf ~/.tmux.conf.bak ; fi
  if [ -h "~/.tmux-osx" ] ; then rm ~/.tmux-osx ; else  mv ~/.tmux-osx ~/.tmux-osx.bak ; fi
  if [ -h "~/.vimrc" ] ; then rm ~/.vimrc ; else  mv ~/.vimrc ~/.vimrc.bak ; fi
  if [ -h "~/.bashrc" ] ; then rm ~/.bashrc ; else  mv ~/.bashrc ~/.bashrc.bak ; fi
  if [ -h "~/.bash_profile" ] ; then rm ~/.bash_profile ; else  mv ~/.bash_profile ~/.bash_profile.bak ; fi
  ln -s $CWD/.tmux.conf.phutchins ~/.tmux.conf
  ln -s $CWD/.tmux-osx ~/.tmux-osx
  ln -s $CWD/.vimrc.phutchins.osx ~/.vimrc
  ln -s $CWD/.bashrc.phutchins.osx ~/.bashrc
  ln -s $CWD/.bash_profile.phutchins ~/.bash_profile
fi
